(this["webpackJsonptlaco-pwa"]=this["webpackJsonptlaco-pwa"]||[]).push([[0],{46:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(24),o=n.n(r),s=n(16),i=n(7),l=n(14),d=n.n(l),u=n(20),j=n(8),b=n(33),m=n(22),p=n(36),h=n(3),O=[{title:"Registra Mercancia",path:"/",icon:Object(h.jsx)(m.a,{}),CName:"nav-text"},{title:"Nosotros",path:"/admin",icon:Object(h.jsx)(p.a,{}),CName:"nav-text"},{title:"Inventario",path:"/inventario",icon:Object(h.jsx)(m.c,{}),CName:"nav-text"}],f=(n(46),n(0)),x=n(30),g=(n(47),n(66),n(34),x.a.initializeApp({apiKey:"AIzaSyCXmetIao02oTtGES4X0PdnjBIprjwEMVI",authDomain:"tlacomiztli-43383.firebaseapp.com",projectId:"tlacomiztli-43383",storageBucket:"tlacomiztli-43383.appspot.com",messagingSenderId:"511195487439",appId:"1:511195487439:web:3b479be130d509a2356bba"})),v=g.firestore(),N=g.storage(),_=x.a.auth(),w=Object(c.createContext)(),y=function(){return Object(c.useContext)(w)},C=function(e){var t=Object(c.useState)({}),n=Object(j.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){_.onAuthStateChanged((function(e){r(e)}))}),[]);var o={currentUser:a,login:function(e,t){return _.signInWithEmailAndPassword(e,t)},logout:function(){return _.signOut()}};return Object(h.jsx)(w.Provider,{value:o,children:e.children})};var k=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],r=function(){return a(!n)},o=y(),l=o.logout,m=(o.currentUser,Object(i.g)()),p=Object(c.useState)(""),x=Object(j.a)(p,2),g=(x[0],x[1]),v=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l();case 3:m.push("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),g("Server Error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(f.b.Provider,{value:{color:"#fff"},children:[Object(h.jsxs)("div",{className:"navbar",children:[Object(h.jsx)("div",{className:"cerrarSesion",children:Object(h.jsx)("button",{className:"logout-button",onClick:v,children:"Log Out"})}),Object(h.jsx)(s.b,{to:"#",className:"menu-bars",children:Object(h.jsx)(b.a,{onClick:r})})]}),Object(h.jsxs)("nav",{className:n?"nav-menu active":"nav-menu",children:["| ",Object(h.jsxs)("ul",{className:"nav-menu-items",onClick:r,children:[Object(h.jsxs)("li",{className:"navbar-toggle",children:[Object(h.jsx)(s.b,{to:"#",className:"menu-bars",children:Object(h.jsx)(b.b,{})}),Object(h.jsx)("div",{className:"imagen"})]}),O.map((function(e,t){return Object(h.jsx)("li",{className:e.CName,children:Object(h.jsxs)(s.b,{to:e.path,children:[e.icon,Object(h.jsx)("span",{children:e.title})]})},t)}))]})]})]})})},S=n(25),E=n(6),I=n(68);n(58);var P=function(e){var t=Object(c.useState)(),n=Object(j.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(),s=Object(j.a)(o,2),i=s[0],l=s[1],d=Object(c.useRef)();function u(){d.current.click()}return Object(c.useEffect)((function(){if(a){var e=new FileReader;e.onload=function(){l(e.result)},e.readAsDataURL(a)}}),[a]),Object(h.jsxs)("div",{className:"form-controll center",children:[Object(h.jsx)("input",{id:e.id,ref:d,style:{display:"none"},type:"file",accept:".jpg, .png, .jpeg",onChange:function(t){var n;t.target.files&&1===t.target.files.length&&(n=t.target.files[0],r(n),e.setData((function(e){return Object(E.a)(Object(E.a)({},e),{},{image:n})})))}}),Object(h.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[Object(h.jsxs)("div",{className:"image-upload__preview",children:[i&&Object(h.jsx)("img",{src:i,alt:"preview"}),!i&&Object(h.jsx)("div",{className:"center",children:Object(h.jsx)(I.a,{className:"image-upload-button",type:"button",onClick:u,children:Object(h.jsx)("i",{className:"material-icons",children:"add_a_photo"})})})]}),Object(h.jsx)("div",{children:i&&Object(h.jsx)("div",{children:Object(h.jsx)(I.a,{className:"image-upload-button",type:"button",onClick:u,children:Object(h.jsx)(m.b,{className:"icon"})})})})]})]})},A=(n(59),n(17)),F=[{nombre:"Aretes"},{nombre:"Brazaletes"},{nombre:"Collares"},{nombre:"Conjuntos"}];var T=function(){var e=Object(c.useState)({nombre:"",precio:"",cantidad:"",categorias1:"",image:null}),t=Object(j.a)(e,2),n=t[0],a=t[1];function r(e){e.preventDefault();var t=e.target,n=t.name,c=t.value;a((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(S.a)({},n,c))}))}return Object(h.jsx)("div",{className:"container__form",children:Object(h.jsxs)("form",{className:"form",children:[Object(h.jsx)("h1",{children:"Registre la mercancia"}),Object(h.jsxs)("div",{className:"form__input",children:[Object(h.jsx)("i",{className:"material-icons camera",children:"add_shopping_cart"}),Object(h.jsx)("input",{type:"text",onChange:r,className:"form-control",placeholder:"Nombre del producto",name:"nombre",value:n.nombre})]}),Object(h.jsxs)("div",{className:"form__input",children:[Object(h.jsx)("i",{className:"material-icons",children:"book"}),Object(h.jsxs)("select",{className:"form-control",name:"categorias1",value:n.categorias1,onChange:r,children:[Object(h.jsx)("option",{value:"",disabled:"disabled",selected:!0,children:"Seleccione categoria"}),F.map((function(e,t){return Object(h.jsxs)("option",{value:e.nombre,children:[e.nombre," "]},"categoria"+t)}))]})]}),Object(h.jsxs)("div",{className:"form__input",children:[Object(h.jsx)("i",{className:"material-icons",children:"attach_money"}),Object(h.jsx)("input",{type:"number",onChange:r,min:"1",step:"1",className:"form-control",placeholder:"Precio del producto",name:"precio",value:n.precio})]}),Object(h.jsxs)("div",{className:"form__input",children:[Object(h.jsx)("i",{className:"material-icons",children:"store"}),Object(h.jsx)("input",{type:"number",onChange:r,min:"1",step:"1",className:"form-control",placeholder:"Cantidad del producto",name:"cantidad",value:n.cantidad})]}),Object(h.jsx)("div",{className:"overlay",children:Object(h.jsx)("div",{className:"overlay-panel overlay-raight",children:Object(h.jsx)(P,{setData:a})})}),Object(h.jsx)("button",{style:{marginTop:"10px"},onClick:function(e){try{console.log(n),e.preventDefault(),N.ref("imagen/"+n.image.name).put(n.image).on("state_changed",(function(e){var t;t=e.bytesTransferred/e.totalBytes*100,console.log(t)}),(function(e){console.log(e)}),(function(){N.ref("imagen").child(n.image.name).getDownloadURL().then((function(e){v.collection("Productos").doc().set({nombre:n.nombre,precio:parseFloat(n.precio),cantidad:parseInt(n.cantidad),categoria:n.categorias1,image:e}).then((function(){a({nombre:"",precio:"",cantidad:"",categorias1:" ",image:null})}))}))})),Object(A.b)("El producto se a agregado satisfactoriamente al inventario",{type:"success"})}catch(t){console.log(t)}},children:"Registrar"})]})})},D=(n(60),function(){var e=y().login,t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(""),s=Object(j.a)(o,2),l=s[0],b=s[1],m=Object(i.g)(),p=function(){var t=Object(u.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,e(a,l);case 4:m.push("/"),Object(A.b)("Bienvenido Administrador",{type:"success"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Object(A.b)("Introdujo mal el usuario o contrase\xf1a",{type:"error"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"contenedor__body",children:Object(h.jsx)("div",{className:"contenedor__form-image",children:Object(h.jsxs)("div",{className:"contenedor_formulario",children:[Object(h.jsx)("h1",{className:"titulo_login",children:"Admin"}),Object(h.jsxs)("form",{className:"contenedor_formulario",onSubmit:p,children:[Object(h.jsxs)("div",{className:"form_inputs",children:[Object(h.jsx)("label",{className:"textos_login-label",children:"Introdusca su correo"}),Object(h.jsx)("input",{type:"email",placeholder:"correo@correo.com",name:"nombre",className:"input_login",onChange:function(e){return r(e.target.value)}})]}),Object(h.jsxs)("div",{className:"form_inputs",children:[Object(h.jsx)("label",{className:"textos_login-label",children:"Introdusca su contrase\xf1a"}),Object(h.jsx)("input",{type:"password",placeholder:"****************",name:"nombre",className:"input_login",onChange:function(e){return b(e.target.value)}})]}),Object(h.jsx)("input",{className:"btn__login-entrar",type:"submit",value:"Log In"})]})]})})})})});n(61);var W=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.collection("Productos").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id}))})),a(t),console.log(n)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){r()}),[]);var o=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Esta seguro que desea eliminar el producto")){e.next=4;break}return e.next=3,v.collection("Productos").doc(t).delete();case 3:Object(A.b)("El producto se a eliminado",{type:"error"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"contenedor",children:Object(h.jsx)("div",{className:"grid",children:n.map((function(e){return Object(h.jsx)("div",{className:"contenedor__productos",children:Object(h.jsx)("div",{className:"grid",children:Object(h.jsxs)("div",{className:"producto",children:[Object(h.jsx)("img",{className:"producto__imagen",src:e.image,alt:"Joyeria"}),Object(h.jsxs)("div",{className:"producto__info",children:[Object(h.jsxs)("p",{className:"producto__nombre",children:[Object(h.jsx)("b",{children:"Nombre:"})," ",e.nombre]}),Object(h.jsxs)("p",{className:"producto__nombre",children:[Object(h.jsx)("b",{children:"Categoria:"})," ",e.categoria]}),Object(h.jsxs)("p",{className:"producto__precio",children:[Object(h.jsx)("b",{children:"Precio"})," $",e.precio]}),Object(h.jsxs)("p",{className:"producto__precio",children:[Object(h.jsx)("b",{children:" Cantidad:"})," ",e.cantidad]})]}),Object(h.jsx)("button",{className:"btn__produtoc-editar",style:{marginTop:"10px"},children:"Editar"}),Object(h.jsx)("button",{className:"btn__produtoc-eliminar",onClick:function(){return o(e.id)},style:{marginTop:"10px"},children:"Eliminar"})]})})},e.id)}))})})};n(62);var q=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"img__xforce"}),Object(h.jsxs)("div",{className:"container__nosotros",children:[Object(h.jsx)("h1",{children:"Xforce"}),Object(h.jsxs)("div",{className:"text__nostros",children:[Object(h.jsx)("p",{children:"Somos un equipo joven de desarrollo con formado por un grupo de estudiantes a los cuales les apaciona la tecnolog\xeda."}),Object(h.jsx)("p",{children:"El equipo ya a desarrollado diversos proyectos entre ellos un sistema de riego automatizado y la e-comerce de Tlacomiztli."}),Object(h.jsx)("p",{children:"Nuestra vision es llevar soluciones tecnologias a todas a quellas  peque\xf1as, medianas o grandes empresas que as\xed lo requieran."}),Object(h.jsx)("p",{children:"Nuestros valores como equipo es la responsabilidad, el respeto y la honestidad."})]})]})]})},z=(n(63),n(64),n(26)),B=["component"],L=function(e){var t=e.component,n=Object(z.a)(e,B),c=y().currentUser;return console.log("user",c),Object(h.jsx)(i.b,Object(E.a)(Object(E.a)({},n),{},{render:function(e){return c?Object(h.jsx)(t,Object(E.a)({},e)):Object(h.jsx)(i.a,{to:"/login"})}}))};var R=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(s.a,{children:Object(h.jsxs)(C,{children:[Object(h.jsx)(k,{}),Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{exact:!0,path:"/login",component:D}),Object(h.jsx)(L,{path:"/",exact:!0,component:T}),Object(h.jsx)(L,{path:"/admin",exact:!0,component:q}),Object(h.jsx)(L,{exact:!0,path:"/inventario",component:W})]})]})}),Object(h.jsx)(A.a,{})]})},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/finalapp",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/finalapp","/service-worker.js");U?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):J(t,e)}))}}(),M()}},[[65,1,2]]]);
//# sourceMappingURL=main.50a66919.chunk.js.map